
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">
    <h1><strong>Crear reportes</strong></h1>
    <hr />
    <button style="margin-bottom: 20px;" class="btn btn-success" id="togglePanelParametros">Esconder parámetros</button>

    <div class="row" id="myColumns">
        <div class="col-lg-3" id="paramPanel">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <span style="font-size: 30px;"><strong>Parámetros:</strong></span>
                </div>
                <div class="panel-body">
                    @using (Html.BeginForm())
                    {
                        <p><strong>Fecha:</strong></p>
                        <div class="form-group">
                            <label for="fromDate">Desde:</label>
                            <input class="form-control" style="position: relative; z-index: 100000;width: 150px;" type="text" name="fromDate" id="fromDate" value="@string.Format("{0:d}", ViewBag.fromDate)" />
                        </div>
                        <div class="form-group">
                            <label for="toDate">Hasta:</label>
                            <input class="form-control" style="position: relative; z-index: 100000;width: 150px;" type="text" name="toDate" id="toDate" value="@string.Format("{0:d}", ViewBag.toDate)" />
                        </div>
                        <hr>
                        <div class="form-group">
                            <label for="sel1">Compañia:</label>
                            <select class="form-control" id="sel1">
                                <option>ESINTRO</option>
                                <option>OET</option>
                                <option>TODAS</option>
                            </select>
                            <hr />
                            <div class="form-group">
                                <label for="sel3">Estación:</label>
                                <select class="form-control" id="sel3">
                                    <option>La Selva</option>
                                    <option>Palo Verde</option>
                                    <option>Las Cruces</option>
                                    <option>Central</option>
                                    <option>Todas</option>
                                </select>
                            </div>
                            <hr/>
                            <label for="sel2">Tipo de visitante:</label>
                            <select class="form-control" id="sel2">
                                <option>Staff</option>
                                <option>Investigador</option>
                                <option>Grupo Educativo</option>
                                <option>Resto del Mundo</option>
                                <option>Todos</option>
                            </select>
                        </div>
                        <hr>
                        <div class="form-group">
                            <label for="exampleInputEmail2">Nacionalidad:</label>
                            <div class="container" style="border:2px solid #ccc; width:170px; height: 100px; overflow-y: scroll;">
                                <input checked="checked" type="checkbox">
                                Costarricense <br>
                                <input checked="checked" type="checkbox">
                                Estadounidense <br>
                                <input checked="checked" type="checkbox">
                                Francés <br>
                                <input checked="checked" type="checkbox">
                                Alemán <br>
                                <input checked="checked" type="checkbox">
                                Etcétera <br>
                            </div>
                        </div>
                        <hr>
                        <h3>Columnas a reportar:</h3>
                        <div class="container" style="border:2px solid #ccc; width:200px; height: 250px; overflow-y: scroll;">
                            <input checked="checked" type="checkbox">
                            Fecha entrada <br>
                            <input checked="checked" type="checkbox">
                            Fecha salida <br>
                            <input checked="checked" type="checkbox">
                            Reservación <br>
                            <input checked="checked" type="checkbox">
                            Estación <br>
                            <input checked="checked" type="checkbox">
                            Compañía <br>
                            <input checked="checked" type="checkbox">
                            Tipo visitante <br>
                            <input checked="checked" type="checkbox">
                            Nacionalidad <br>
                            <input checked="checked" type="checkbox">
                            Nombre completo <br>
                            <input checked="checked" type="checkbox">
                            Correo electrónico <br>
                        </div>
                        <hr>
                        <button type="submit" class="btn btn-success">Crear reporte</button>
                        <button class="btn btn-danger">Cancelar</button>
                    }
                </div>
            </div>
        </div>
        <div class="col-lg-9" id="resPanel">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <span style="font-size: 30px;"><strong>Resultados:</strong></span>
                </div>
                <div class="panel-body">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover table-bordered">
                            <thead>
                                <tr>
                                    <th>Compañía</th>
                                    <th>Estación</th>
                                    <th>Reservación</th>
                                    <th>Fecha entrada</th>
                                    <th>Fecha salida</th>
                                    <th>Tipo Visitante</th>
                                    <th>Nacionalidad</th>
                                    <th>Nombre Completo</th>
                                    <th>Correo electrónico</th>
                                </tr>
                            </thead>
                            <tbody>

                                <tr>
                                    <td>OET</td>
                                    <td>La Selva</td>
                                    <td>CRO123</td>
                                    <td>11/11/2015</td>
                                    <td>20/11/2015</td>
                                    <td>Staff</td>
                                    <td>Costarricense</td>
                                    <td>Emmanuel Arias Soto</td>
                                    <td>emmanuel@mail.com</td>
                                </tr>
                                <tr>
                                    <td>OET</td>
                                    <td>La Selva</td>
                                    <td>CRO123</td>
                                    <td>11/11/2015</td>
                                    <td>20/11/2015</td>
                                    <td>Staff</td>
                                    <td>Costarricense</td>
                                    <td>Angélica Fallas</td>
                                    <td>angelica@mail.com</td>
                                </tr>
                                <tr>
                                    <td>OET</td>
                                    <td>La Selva</td>
                                    <td>CRO123</td>
                                    <td>11/11/2015</td>
                                    <td>20/11/2015</td>
                                    <td>Staff</td>
                                    <td>Costarricense</td>
                                    <td>Daniel Muñoz</td>
                                    <td>daniel@mail.com</td>
                                </tr>
                                <tr>
                                    <td>OET</td>
                                    <td>La Selva</td>
                                    <td>CRO123</td>
                                    <td>11/11/2015</td>
                                    <td>20/11/2015</td>
                                    <td>Staff</td>
                                    <td>Costarricense</td>
                                    <td>David Montoya</td>
                                    <td>david@mail.com</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-heading">
                    <span style="font-size: 30px;"><strong>Totales:</strong></span>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-6">
                            <table class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th>Compañía</th>
                                        <th>Número de reservaciones</th>
                                        <th>Número de visitantes</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>OET</td>
                                        <td style="text-align:center">100</td>
                                        <td style="text-align:center">300</td>
                                    </tr>
                                    <tr>
                                        <td>ESINTRO</td>
                                        <td style="text-align:center">26</td>
                                        <td style="text-align:center">100</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Total</strong></td>
                                        <td style="text-align:center"><strong>126</strong></td>
                                        <td style="text-align:center"><strong>400</strong></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-md-6">
                            <table class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th>Estación</th>
                                        <th>Número de reservaciones</th>
                                        <th>Número de visitantes</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>La Selva</td>
                                        <td style="text-align:center">80</td>
                                        <td style="text-align:center">250</td>
                                    </tr>
                                    <tr>
                                        <td>Palo Verde</td>
                                        <td style="text-align:center">15</td>
                                        <td style="text-align:center">60</td>
                                    </tr>
                                    <tr>
                                        <td>Las Cruces</td>
                                        <td style="text-align:center">6</td>
                                        <td style="text-align:center">29</td>
                                    </tr>
                                    <tr>
                                        <td>Central</td>
                                        <td style="text-align:center">10</td>
                                        <td style="text-align:center">61</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Total</strong></td>
                                        <td style="text-align:center"><strong>126</strong></td>
                                        <td style="text-align:center"><strong>400</strong></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                </div>
            </div>
            <button class="btn btn-success">Imprimir</button>
            <button class="btn btn-success">Exportar</button>
        </div>
    </div>
    <div class="row" style="margin-bottom: 100px;">
        <div class="col-lg-8 col-lg-offset-2"> </div>
    </div>
</div>

@section Scripts{

    <script type="text/javascript">
        $(document).ready(function () {

            $("#fromDate").datepicker({
                dateFormat: 'dd/mm/yy',
                showOn: "button",
                onSelect: function (date) {
                    var dt1 = $('#fromDate').datepicker('getDate');
                    var dt2 = $('#toDate').datepicker('getDate');
                    if (dt2 <= dt1) {
                        dt1.setDate(dt1.getDate() + 1);
                        $('#toDate').datepicker('setDate', dt1);
                    } else {
                        dt1.setDate(dt1.getDate() + 1);
                    }
                    $('#toDate').datepicker('option', 'minDate', dt1);
                }
            });
            $('#toDate').datepicker({
                dateFormat: 'dd/mm/yy',
                showOn: "button"
            });
            var date2 = $('#fromDate').datepicker('getDate');
            $('#toDate').datepicker('option', 'minDate', date2);


            var $myCols = $("#myColumns");
            $("#togglePanelParametros").click(function () {
                $("#paramPanel").toggle();
                $(this).text(function (i, text) {
                    return text === "Esconder parámetros" ? "Mostrar parámetros" : "Esconder parámetros";
                })
                if ($("#paramPanel").is(":visible")) {
                    $("#resPanel").removeClass("col-lg-12");
                    $("#resPanel").addClass("col-lg-9");
                }
                else {
                    $("#resPanel").removeClass("col-lg-9");
                    $("#resPanel").addClass("col-lg-12");
                }
            });

        });
    </script>
}